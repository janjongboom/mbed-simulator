<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PAL: C:/work/PAL/zolFull/mbed-client-pal/Source/PAL-Impl/Modules/Update/pal_update.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PAL
   </div>
   <div id="projectbrief">A Platform Abstraction Layer connects the mbed-client with the underlying platform.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_74389ed8173ad57b461b9d623a1f3867.html">Source</a></li><li class="navelem"><a class="el" href="../../dir_8a9a67948239eaee56ff05ba80ad2d3c.html">PAL-Impl</a></li><li class="navelem"><a class="el" href="../../dir_5097254b22164c5ad71a4eec719a72ee.html">Modules</a></li><li class="navelem"><a class="el" href="../../dir_a9ff65e3f848f462604f5439bae27718.html">Update</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pal_update.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d2/d47/pal__plat__update_8h_source.html">pal_plat_update.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/df9/pal__update_8h_source.html">pal_update.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/dcf/pal__macros_8h_source.html">pal_macros.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2e85d0291ef07a84780291b67da129b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/pal__update_8c.html#a2e85d0291ef07a84780291b67da129b5">pal_imageInitAPI</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a9ac73ac0e2421507424182ebaffc8b21">palImageSignalEvent_t</a> CBfunction)</td></tr>
<tr class="separator:a2e85d0291ef07a84780291b67da129b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a399c2a8dbd117abf5cd4fa69771f98a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/pal__update_8c.html#a399c2a8dbd117abf5cd4fa69771f98a0">pal_imageDeInit</a> (void)</td></tr>
<tr class="separator:a399c2a8dbd117abf5cd4fa69771f98a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4efbe7dd54c89cc87c80e94aa07a9988"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/pal__update_8c.html#a4efbe7dd54c89cc87c80e94aa07a9988">pal_imagePrepare</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId, <a class="el" href="../../dd/df9/pal__update_8h.html#a224fe03733bd8a2e5476357be9b74ee6">palImageHeaderDeails_t</a> *headerDetails)</td></tr>
<tr class="separator:a4efbe7dd54c89cc87c80e94aa07a9988"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b38046695a7124198787f01250d49a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/pal__update_8c.html#a8b38046695a7124198787f01250d49a3">pal_imageWrite</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId, size_t offset, <a class="el" href="../../d6/dc2/pal__types_8h.html#a1fc5fbdbd83764292a7b4252e44e3b81">palConstBuffer_t</a> *chunk)</td></tr>
<tr class="separator:a8b38046695a7124198787f01250d49a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a175083cffce66b96cd608a6cd10e9c61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/pal__update_8c.html#a175083cffce66b96cd608a6cd10e9c61">pal_imageFinalize</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId)</td></tr>
<tr class="separator:a175083cffce66b96cd608a6cd10e9c61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37805c23a8066068318031f2d90c2da4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/pal__update_8c.html#a37805c23a8066068318031f2d90c2da4">pal_imageGetDirectMemoryAccess</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId, void **imagePtr, size_t *imageSizeInBytes)</td></tr>
<tr class="separator:a37805c23a8066068318031f2d90c2da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac9ba34b8a1600d97b2b019b55e31a8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/pal__update_8c.html#aac9ba34b8a1600d97b2b019b55e31a8d">pal_imageReadToBuffer</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId, size_t offset, <a class="el" href="../../d6/dc2/pal__types_8h.html#a8c90171089db400b392bf0d3b68de0e4">palBuffer_t</a> *chunk)</td></tr>
<tr class="separator:aac9ba34b8a1600d97b2b019b55e31a8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31b9ead19037301ac9df1ccd6260262e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/pal__update_8c.html#a31b9ead19037301ac9df1ccd6260262e">pal_imageActivate</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a> imageId)</td></tr>
<tr class="separator:a31b9ead19037301ac9df1ccd6260262e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a278dcb55bfa1196ffe5713fa938d5d6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/pal__update_8c.html#a278dcb55bfa1196ffe5713fa938d5d6e">pal_imageGetActiveHash</a> (<a class="el" href="../../d6/dc2/pal__types_8h.html#a8c90171089db400b392bf0d3b68de0e4">palBuffer_t</a> *hash)</td></tr>
<tr class="separator:a278dcb55bfa1196ffe5713fa938d5d6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72cd92d9d3eb0166f83d7e3c3e66f64c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/pal__update_8c.html#a72cd92d9d3eb0166f83d7e3c3e66f64c">pal_imageGetActiveVersion</a> (<a class="el" href="../../d6/dc2/pal__types_8h.html#a8c90171089db400b392bf0d3b68de0e4">palBuffer_t</a> *version)</td></tr>
<tr class="separator:a72cd92d9d3eb0166f83d7e3c3e66f64c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa852dd1acee23c14859d9d4f94e09ce6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/da9/pal__update_8c.html#aa852dd1acee23c14859d9d4f94e09ce6">pal_imageWriteDataToMemory</a> (<a class="el" href="../../dd/df9/pal__update_8h.html#a73bbb720e1547d0d02b2ba607a35091d">palImagePlatformData_t</a> dataId, const <a class="el" href="../../d6/dc2/pal__types_8h.html#a1fc5fbdbd83764292a7b4252e44e3b81">palConstBuffer_t</a> *const dataBuffer)</td></tr>
<tr class="separator:aa852dd1acee23c14859d9d4f94e09ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a31b9ead19037301ac9df1ccd6260262e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_imageActivate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets image imageId to be the active image (after device reset). the function must call g_palUpdateServiceCBfunc before after finished</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>the image id </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a399c2a8dbd117abf5cd4fa69771f98a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_imageDeInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>clearing all the resources used by the pal_update APIs </p><dl class="section return"><dt>Returns</dt><dd>the function returns the status in the form of palStatus_t which will be <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success and another negative value indicating a specific error code in case of failure </dd></dl>

</div>
</div>
<a class="anchor" id="a175083cffce66b96cd608a6cd10e9c61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_imageFinalize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flushes the image data and sets the version of imageId to imageVersion. the function must call g_palUpdateServiceCBfunc before after finished </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>the image id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageVersion</td><td>a struct containing the version as a buffer and the size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the function returns the status in the form of palStatus_t which will be <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success and another negative value indicating a specific error code in case of failure </dd></dl>

</div>
</div>
<a class="anchor" id="a278dcb55bfa1196ffe5713fa938d5d6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_imageGetActiveHash </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dc2/pal__types_8h.html#a8c90171089db400b392bf0d3b68de0e4">palBuffer_t</a> *&#160;</td>
          <td class="paramname"><em>hash</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the hash value of the active image to hash buffer with max size hash maxBufferLength and sets to hash bufferLength to the hash size. the function must call g_palUpdateServiceCBfunc before after finished </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">hash</td><td>struct containing the hash and actual size of hash read </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a72cd92d9d3eb0166f83d7e3c3e66f64c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_imageGetActiveVersion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dc2/pal__types_8h.html#a8c90171089db400b392bf0d3b68de0e4">palBuffer_t</a> *&#160;</td>
          <td class="paramname"><em>version</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the version of the active image to version buffer with size set to version bufferLength. the function must call g_palUpdateServiceCBfunc before after finished </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">version</td><td>struct containing the version and actual size of version read </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a37805c23a8066068318031f2d90c2da4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_imageGetDirectMemoryAccess </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>imagePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>imageSizeInBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Verifies whether image imageId is readable and sets imagePtr to point to the beginning of start of the image in the memory and imageSizeInBytes to the image size. In case of failure sets imagePtr to NULL and returns relevant palStatus_t error </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>the image id </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">imagePtr</td><td>pointer to the start of the image </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">imageSizeInBytes</td><td>the size of the image </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the function returns the status in the form of palStatus_t which will be <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success and another negative value indicating a specific error code in case of failure </dd></dl>

</div>
</div>
<a class="anchor" id="a2e85d0291ef07a84780291b67da129b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_imageInitAPI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a9ac73ac0e2421507424182ebaffc8b21">palImageSignalEvent_t</a>&#160;</td>
          <td class="paramname"><em>CBfunction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>setting the callback function that will be called before the end of each API (except imageGetDirectMemAccess)</p>
<p>WARNING: please do not change this function! this function loads a call back function received from the upper layer (service). the call back should be called at the end of each function (except pal_plat_imageGetDirectMemAccess) the call back receives the event type that just happened defined by the ENUM palImageEvents_t.</p>
<p>if you will not call the call back at the end the service behaver will be undefined the function must call g_palUpdateServiceCBfunc before after finished</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">CBfunction</td><td>pointer to the call back function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the function returns the status in the form of palStatus_t which will be <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success and another negative value indicating a specific error code in case of failure </dd></dl>

</div>
</div>
<a class="anchor" id="a4efbe7dd54c89cc87c80e94aa07a9988"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_imagePrepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a224fe03733bd8a2e5476357be9b74ee6">palImageHeaderDeails_t</a> *&#160;</td>
          <td class="paramname"><em>headerDetails</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare to write image with id imageId and size imageSize in suitable memory region (Space availability will be verified and reserved). the function must call g_palUpdateServiceCBfunc before after finished </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>the image id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageSize</td><td>the size of the image </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the function returns the status in the form of palStatus_t which will be <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success and another negative value indicating a specific error code in case of failure </dd></dl>

</div>
</div>
<a class="anchor" id="aac9ba34b8a1600d97b2b019b55e31a8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_imageReadToBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dc2/pal__types_8h.html#a8c90171089db400b392bf0d3b68de0e4">palBuffer_t</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads max of chunk maxBufferLength bytes from image imageId with relative offset offset and stores it in chunk buffer. And sets chunk bufferLength value to the actual number of bytes read. Note: Please use this API in case image is not directly accessible via imageGetDirectMemAccess function.</p>
<p>the function must call g_palUpdateServiceCBfunc before after finished</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>the image id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>offset to start read from </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">chunk</td><td>struct containing the data and actual bytes read </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8b38046695a7124198787f01250d49a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_imageWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a4a9214b57530228af5cfba5ec05b406b">palImageId_t</a>&#160;</td>
          <td class="paramname"><em>imageId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dc2/pal__types_8h.html#a1fc5fbdbd83764292a7b4252e44e3b81">palConstBuffer_t</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes the data in chunk buffer with size chunk bufferLength in the location of imageId adding the relative offset. the function must call g_palUpdateServiceCBfunc before after finished </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imageId</td><td>the image id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>the offset to write the data into </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pointer</td><td>to struct containing the data and the data length to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the function returns the status in the form of palStatus_t which will be <a class="el" href="../../d6/dc2/pal__types_8h.html#a92e2ad3a6b8c71818b6a08720fa84ba5">PAL_SUCCESS(0)</a> in case of success and another negative value indicating a specific error code in case of failure </dd></dl>

</div>
</div>
<a class="anchor" id="aa852dd1acee23c14859d9d4f94e09ce6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc2/pal__types_8h.html#a160277354e86b9aea01d7689ec26d88d">palStatus_t</a> pal_imageWriteDataToMemory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/df9/pal__update_8h.html#a73bbb720e1547d0d02b2ba607a35091d">palImagePlatformData_t</a>&#160;</td>
          <td class="paramname"><em>dataId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d6/dc2/pal__types_8h.html#a1fc5fbdbd83764292a7b4252e44e3b81">palConstBuffer_t</a> *const&#160;</td>
          <td class="paramname"><em>dataBuffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writing the data of dataId stored in dataBuffer to memory accessible to bootloader. Currently only has is available. the function must call g_palUpdateServiceCBfunc before after finished </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dataId</td><td>one of the members of palImagePlatformData_t enum </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dataBuffer</td><td>struct containing the data and actual bytes to be written </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
